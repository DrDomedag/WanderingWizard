General things to do:
Show allegiance on map somehow.

Verify bug level of spellbook pickups. Seemed like they didn't give the right tier.

...sound

Doors!
Same-world teleporter tiles.

PoIs
The "wait" action should give one "recovery turn" to a random spell per action used.
Use the 'mazetest.py' algorithm to make a cave biome (good for tunnels) - combine with noise for irregularly shaped chambers.

Consider implementing *another* dict that remembers tiles you have seen to make FoW not regenerate. Update the show_los function to use this.

Create "fear" status effect that causes enemies to flee, make trolls suffer it when they take fire damage.

Make multicoloured text. ChatGPT had a suggestion that didn't seem horrible.

Use the desaturation thing to make and show a Petrified status effect.

Add a "has noticed player" boolean to monsters. If False, at the beginning of act(),
check if player within certain range (representing hearing) or within LoS, or if ally within range is flagged as true.
If not, skip turn.


Create more visual effects.
Create projectile visual effect.


Biome plan:
Give harder biomes a bias of arctan(x-a)-1.5 where x is the tile and a is the minimum distance it should spawn at.



Things that are 'implemented' but do not currently work:

Pushing walls still doesn't work, though entities does.

For some inexplicable reason, walking into a portal by clicking on it moves you one tile off target in the other world,
but clicking on the far side of the portal or using the keyboard, you land on target.
This is in spite of the fact that both use the world.move_player(target) function.

Unsure whether it's an issue, but LoS display could get weird if wall in tiles you have seen previously are destroyed.




Spell ideas:

Bloody Sacrament
Blood + Holy
Expend life to gain a charge of another random spell. Channelable, or upgrade to channel.

Summon Longdead
t1 Necro
Create a skeletal servant.
Upgrade to summon more per casting or to enable channeling.

Summon Longdead Beast
t3 necro
Like Longdead but it's a random animal.

Iron Needle
Fire a metallic needle.
Only costs one action.
Upgrade to fire more needles, or (hear me out) to fire *even more needles*.

Bone Spike
Pay health to fire one of your own bones. Short range.

Banish
Instantly unmake a summoned creature.

Haste
Air + Enchantment
Target gets an additional action crystal each turn for X turns.

Metabolic Overdrive
Blood + Nature + Transmutation
Target gets an additional action crystal each turn for X turns.

Resurrect (Holy)
Revive a recently killed ally.

Reanimate (Death)
Revive a recently dead enemy as a zombie.

Call Spirit (Death + Holy)
Revive a recently dead enemy as a ghost.

Mist (Air + Water)
Creates a cloud that blocks line of sight. Immune to most damage, but is by fire.

Lightning Bond
Form a bond with up to 3 nearby allies. Lightning shoots between you each turn, damaging enemies in between.

Electrify the Chain of Command
Lightning + Astral
Deal lightning damage to target creature's master if it has one, and the master's master if it has one, and so on.

Purify
Holy + Astral
Remove all debuffs from allies in an area.

Defile
Dark + Astral
Remove all buffs from enemies in an area.

Dispel
Astral
Remove all buffs and debuffs in an area.

Spatial Distortion
Astral
Switch places among all tiles in area.

Meteor
Astral + Earth
Rock from sky hit earth. Deals bludgeoning damage in an area and turns water tiles in the aoe to stone floor.

Stepping Stones
Earth
Turns Chasm tiles in a square area into stone floor.

Form of the Fish
Water + Transmutation
Turn into a fish, gaining the ability to swim but losing the ability to walk.

Corpse Stench
Death + Nature?
Give an undead ally a poison aura.

Poison Mist
Nature + Water
Create a cloud that deals poison damage to all creatures that enter it.

Scry
Astral?
Give line of sight of all tiles in area.

Borrow Senses
Nature + Astral?
Grant line of sight from a minion.

Sense Evil
Holy
Grant line of sight of all undead and demonic creatures.

Echolocation
Nature + Transmutation
Show the position of all entities, without actually granting line of sight.

Cleansing Wind
Holy + Air
Remove all tile effects in the area

Conjure Rust Monster
Water + Nature + Conjuration
A monster that deals damage to metal enemies (enemies of nature) in a radius each turn.

Animate Tree
Nature
Turns a tree into a treant. The tree stats/abilities depend on the base tree.

Razor Boomerang
Metal
Throw a chakram in circle. Regain a charge if there were no walls in the AoE.

Draconic Transformation
Dragon, Transmutation
Target creature gets additional HP, some resistances and a draconic breath weapon.


Arcanist's Trap
Astral, Enchantment
Does nothing on its own, but severely damages any creature that attempts to dispel it.


# Theme ideas:
Keep:
Blood (includes Demons)
Illusion (includes mind control)
Astral (Arcane, aether...)
Metal (summon dancing swords, walls of swords, robots, armour etc.)
Water
Ice
Air
Lightning
Fire
Nature
Holy
Dark / Unholy / Shadow
Death / Bone
Earth / Stone

Minor:
Draconic
Transmutation


Cut:
Light
Psionic
Spirit
Rune
Entropy
Emotion
Martial - Cool, but save it for the expansion.

Combo themes:
Fungus (Nature + Earth)
Steam (Fire + Water)
Rainbow (Nature + Light (or Illusion))
Robots (Lightning + Metal)
Blood Sacrifice (Blood + Holy)
Crystal (Ice + Stone or Arcane)
Fairies (Nature + Arcane)
Decay (Nature + Dark)
Poison (Nature + Blood)
Acid (Nature + Water)
Storm/Mist (Air + Water)
Rune (Arcane + Earth)
Extraterresterial (meteors etc.) (Astral + Earth)
Void beings (Astral + Dark)
